<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Wevergton Adao</title>
	<atom:link href="/feed/" rel="self" type="application/rss+xml" />
	<link></link>
	<description>Subjects = [&#039;Data Analytics&#039;, &#039;Statistics&#039;, &#039;Business Intelligence&#039;]</description>
	<lastBuildDate>Tue, 03 Apr 2018 06:46:05 +0000</lastBuildDate>
	<language>en-CA</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.9.4</generator>

<image>
	<url>/wp-content/uploads/2018/03/W-150x150.png</url>
	<title>Wevergton Adao</title>
	<link></link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Credit Card Fraud Detection</title>
		<link>/2018/04/02/credit-card-fraud-detection/</link>
		<comments>/2018/04/02/credit-card-fraud-detection/#respond</comments>
		<pubDate>Tue, 03 Apr 2018 05:14:17 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Uncategorised]]></category>

		<guid isPermaLink="false">/?p=63</guid>
		<description><![CDATA[In this notebook, I&#8217;m going over a data analysis pipeline. It means I&#8217;m running a number of processing steps, chained together to produce an initial model, identifying fraud cases in September 2013 by European cardholders. The dataset presents historical transactional data occurred in two days, containing 492 frauds out of 284,807 transactions. Kaggle is a fantastic [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>In this notebook, I&#8217;m going over a data analysis pipeline. It means I&#8217;m running a number of processing steps, chained together to produce an initial model, identifying fraud cases in September 2013 by European cardholders. The dataset presents historical transactional data occurred in two days, containing 492 frauds out of 284,807 transactions. Kaggle is a fantastic platform for analytics competitions, and it is great to find different approaches for real problem projects. You can find out more <a style="background-color: #ffffff;" href="https://www.kaggle.com/mlg-ulb/creditcardfraud">here</a>. Unfortunately, due to confidentiality reasons, only 2 variables are without any transformation, and other 28 variables are principal components obtained with Principal Component Analysis.</p>
<p>In a real world, there are important steps that come first before start doing the analysis: identifying and framing the analytical problem. This steps basically consists in providing focus and direction to analytics projects, delivering value quickly without expending unnecessarily costs or time investments.  Putting it differently, all parties involved must certify that they have systematically identified and assessed the problem.</p>
<p>Since we don&#8217;t have more details about variables, channels, or geolocation let&#8217;s cut to the chase, I mean moving forward to the &#8220;quantitative&#8221; part to play with the dataset using Jupyter.</p>
<p>The approach for this project is:</p>
<ul>
<li>Using a Jupyter notebook to show a step-by-step data analysis</li>
<li>Generate few statistics about the dataset</li>
<li>Reshape the data in order to obtain time series</li>
<li>Since data is imbalanced we need to undersample the majority class, that sample will be used during the training phase.</li>
</ul>
<p><!-- End of mathjax configuration --></p>
<div id="notebook" class="border-box-sizing" tabindex="-1">
<div id="notebook-container" class="container">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">DataFrame</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">sklearn.externals</span> <span class="kn">import</span> <span class="n">joblib</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ion</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">KFold</span><span class="p">,</span> <span class="n">cross_val_score</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">auc</span><span class="p">,</span><span class="n">roc_curve</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># -- Loading dataset --</span>
<span class="n">originalDataset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'.\dataset/creditcard.csv'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># Aggregating by time</span>
<span class="n">aggByTimeAmount</span> <span class="o">=</span> <span class="n">originalDataset</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'Time'</span><span class="p">,</span> <span class="s1">'Class'</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">'Amount'</span><span class="p">:</span><span class="s1">'sum'</span><span class="p">})[[</span><span class="s1">'Time'</span><span class="p">,</span><span class="s1">'Class'</span><span class="p">,</span><span class="s1">'Amount'</span><span class="p">]]</span>
<span class="n">aggByTimeCount</span> <span class="o">=</span> <span class="n">originalDataset</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'Time'</span><span class="p">,</span> <span class="s1">'Class'</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">'Amount'</span><span class="p">:</span><span class="s1">'count'</span><span class="p">})[[</span><span class="s1">'Time'</span><span class="p">,</span><span class="s1">'Class'</span><span class="p">,</span><span class="s1">'Amount'</span><span class="p">]]</span>

<span class="n">aggByTimeAmountPivot</span> <span class="o">=</span> <span class="n">aggByTimeAmount</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">'Time'</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">'Class'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Amount'</span><span class="p">)</span>
<span class="n">aggByTimeAmountPivot</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'normalAmount'</span><span class="p">,</span> <span class="s1">'fraudAmount'</span><span class="p">]</span>
<span class="n">aggByTimeAmountPivot</span> <span class="o">=</span> <span class="n">aggByTimeAmountPivot</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">aggByTimeCountPivot</span> <span class="o">=</span> <span class="n">aggByTimeCount</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">'Time'</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">'Class'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">'Amount'</span><span class="p">)</span>
<span class="n">aggByTimeCountPivot</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'normalCount'</span><span class="p">,</span> <span class="s1">'fraudCount'</span><span class="p">]</span>
<span class="n">aggByTimeCountPivot</span> <span class="o">=</span> <span class="n">aggByTimeCountPivot</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">aggByTimeAmountPivot</span><span class="p">,</span> <span class="n">aggByTimeCountPivot</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">'Time'</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">'outer'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">result</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Time</th>
<th>normalAmount</th>
<th>fraudAmount</th>
<th>normalCount</th>
<th>fraudCount</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>0.0</td>
<td>152.31</td>
<td>NaN</td>
<td>2.0</td>
<td>NaN</td>
</tr>
<tr>
<th>1</th>
<td>1.0</td>
<td>502.16</td>
<td>NaN</td>
<td>2.0</td>
<td>NaN</td>
</tr>
<tr>
<th>2</th>
<td>2.0</td>
<td>73.66</td>
<td>NaN</td>
<td>2.0</td>
<td>NaN</td>
</tr>
<tr>
<th>3</th>
<td>4.0</td>
<td>4.99</td>
<td>NaN</td>
<td>1.0</td>
<td>NaN</td>
</tr>
<tr>
<th>4</th>
<td>7.0</td>
<td>134.00</td>
<td>NaN</td>
<td>2.0</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="k">print</span><span class="p">(</span><span class="s1">'Rows, Columns'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">originalDataset</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">originalDataset</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Rows, Columns
(284807, 31)
</pre>
</div>
</div>
<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Time</th>
<th>V1</th>
<th>V2</th>
<th>V3</th>
<th>V4</th>
<th>V5</th>
<th>V6</th>
<th>V7</th>
<th>V8</th>
<th>V9</th>
<th>&#8230;</th>
<th>V21</th>
<th>V22</th>
<th>V23</th>
<th>V24</th>
<th>V25</th>
<th>V26</th>
<th>V27</th>
<th>V28</th>
<th>Amount</th>
<th>Class</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>0.0</td>
<td>-1.359807</td>
<td>-0.072781</td>
<td>2.536347</td>
<td>1.378155</td>
<td>-0.338321</td>
<td>0.462388</td>
<td>0.239599</td>
<td>0.098698</td>
<td>0.363787</td>
<td>&#8230;</td>
<td>-0.018307</td>
<td>0.277838</td>
<td>-0.110474</td>
<td>0.066928</td>
<td>0.128539</td>
<td>-0.189115</td>
<td>0.133558</td>
<td>-0.021053</td>
<td>149.62</td>
<td>0</td>
</tr>
<tr>
<th>1</th>
<td>0.0</td>
<td>1.191857</td>
<td>0.266151</td>
<td>0.166480</td>
<td>0.448154</td>
<td>0.060018</td>
<td>-0.082361</td>
<td>-0.078803</td>
<td>0.085102</td>
<td>-0.255425</td>
<td>&#8230;</td>
<td>-0.225775</td>
<td>-0.638672</td>
<td>0.101288</td>
<td>-0.339846</td>
<td>0.167170</td>
<td>0.125895</td>
<td>-0.008983</td>
<td>0.014724</td>
<td>2.69</td>
<td>0</td>
</tr>
<tr>
<th>2</th>
<td>1.0</td>
<td>-1.358354</td>
<td>-1.340163</td>
<td>1.773209</td>
<td>0.379780</td>
<td>-0.503198</td>
<td>1.800499</td>
<td>0.791461</td>
<td>0.247676</td>
<td>-1.514654</td>
<td>&#8230;</td>
<td>0.247998</td>
<td>0.771679</td>
<td>0.909412</td>
<td>-0.689281</td>
<td>-0.327642</td>
<td>-0.139097</td>
<td>-0.055353</td>
<td>-0.059752</td>
<td>378.66</td>
<td>0</td>
</tr>
<tr>
<th>3</th>
<td>1.0</td>
<td>-0.966272</td>
<td>-0.185226</td>
<td>1.792993</td>
<td>-0.863291</td>
<td>-0.010309</td>
<td>1.247203</td>
<td>0.237609</td>
<td>0.377436</td>
<td>-1.387024</td>
<td>&#8230;</td>
<td>-0.108300</td>
<td>0.005274</td>
<td>-0.190321</td>
<td>-1.175575</td>
<td>0.647376</td>
<td>-0.221929</td>
<td>0.062723</td>
<td>0.061458</td>
<td>123.50</td>
<td>0</td>
</tr>
<tr>
<th>4</th>
<td>2.0</td>
<td>-1.158233</td>
<td>0.877737</td>
<td>1.548718</td>
<td>0.403034</td>
<td>-0.407193</td>
<td>0.095921</td>
<td>0.592941</td>
<td>-0.270533</td>
<td>0.817739</td>
<td>&#8230;</td>
<td>-0.009431</td>
<td>0.798278</td>
<td>-0.137458</td>
<td>0.141267</td>
<td>-0.206010</td>
<td>0.502292</td>
<td>0.219422</td>
<td>0.215153</td>
<td>69.99</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>5 rows × 31 columns</p>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="k">print</span><span class="p">(</span><span class="s1">'1 = fraud | 0 = otherwise'</span><span class="p">)</span>
<span class="n">originalDataset</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 = fraud | 0 = otherwise
</pre>
</div>
</div>
<div class="output_area">
<div class="prompt output_prompt">Out[6]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>0    284315
1       492
Name: Class, dtype: int64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># Number of Transactions vs Time</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="s1">'Time'</span><span class="p">,</span> <span class="s1">'normalCount'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">result</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="s1">'Time'</span><span class="p">,</span> <span class="s1">'fraudCount'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">result</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">get_shared_x_axes</span><span class="p">()</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">([])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Number of Transactions - Time Graph'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'Green = Normal | Red = Fraud'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Green = Normal | Red = Fraud
</pre>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea "><img src="data:image/png;base64,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" /></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># Total Amount vs Time</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="s1">'Time'</span><span class="p">,</span> <span class="s1">'normalAmount'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">result</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="s1">'Time'</span><span class="p">,</span> <span class="s1">'fraudAmount'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">result</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">get_shared_x_axes</span><span class="p">()</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">([])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'Total Amount - Time Graph'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'Green = Normal | Red = Fraud'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Green = Normal | Red = Fraud
</pre>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea "><img src="data:image/png;base64,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" /></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># Shuffle Dataframe</span>
<span class="n">tSetShuffled</span> <span class="o">=</span> <span class="n">originalDataset</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1">#Spplyting training and test datasets</span>

<span class="n">trainSet</span> <span class="o">=</span> <span class="n">originalDataset</span><span class="p">[:</span><span class="mi">284315</span><span class="p">]</span>
<span class="n">testSet</span> <span class="o">=</span> <span class="n">originalDataset</span><span class="p">[</span><span class="mi">284315</span><span class="p">:]</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="k">def</span> <span class="nf">undersample</span><span class="p">(</span><span class="n">originalDataset</span><span class="p">,</span> <span class="n">ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">fraudSet</span> <span class="o">=</span> <span class="n">originalDataset</span><span class="p">[</span><span class="n">originalDataset</span><span class="o">.</span><span class="n">Class</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">otherSet</span> <span class="o">=</span> <span class="n">originalDataset</span><span class="p">[</span><span class="n">originalDataset</span><span class="o">.</span><span class="n">Class</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">ratio</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">fraudSet</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">fraudSet</span><span class="p">,</span> <span class="n">otherSet</span><span class="p">])</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">undersampleTrain</span> <span class="o">=</span> <span class="n">undersample</span><span class="p">(</span><span class="n">trainSet</span><span class="p">)</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">undersampleTrain</span><span class="o">.</span><span class="n">Class</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">undersampleTrain</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'Class'</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">"Remaining rows:"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">undersampleTrain</span><span class="p">))</span>
<span class="n">undersampleTrain</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>('Remaining rows:', 984)
</pre>
</div>
</div>
<div class="output_area">
<div class="prompt output_prompt">Out[11]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Time</th>
<th>V1</th>
<th>V2</th>
<th>V3</th>
<th>V4</th>
<th>V5</th>
<th>V6</th>
<th>V7</th>
<th>V8</th>
<th>V9</th>
<th>&#8230;</th>
<th>V21</th>
<th>V22</th>
<th>V23</th>
<th>V24</th>
<th>V25</th>
<th>V26</th>
<th>V27</th>
<th>V28</th>
<th>Amount</th>
<th>Class</th>
</tr>
</thead>
<tbody>
<tr>
<th>756</th>
<td>564.0</td>
<td>-0.203837</td>
<td>0.532747</td>
<td>-0.339857</td>
<td>-0.730934</td>
<td>2.728163</td>
<td>3.535882</td>
<td>0.263680</td>
<td>0.919169</td>
<td>-0.194501</td>
<td>&#8230;</td>
<td>-0.082087</td>
<td>-0.271636</td>
<td>-0.157778</td>
<td>0.989458</td>
<td>0.228821</td>
<td>-0.545156</td>
<td>0.058120</td>
<td>0.035573</td>
<td>12.90</td>
<td>0</td>
</tr>
<tr>
<th>157585</th>
<td>110087.0</td>
<td>1.934946</td>
<td>0.650678</td>
<td>-0.286957</td>
<td>3.987828</td>
<td>0.316052</td>
<td>-0.099449</td>
<td>-0.021483</td>
<td>-0.172327</td>
<td>0.508730</td>
<td>&#8230;</td>
<td>-0.173602</td>
<td>-0.190974</td>
<td>0.219976</td>
<td>-0.216597</td>
<td>-0.136692</td>
<td>-0.129954</td>
<td>-0.050077</td>
<td>-0.051082</td>
<td>1.00</td>
<td>1</td>
</tr>
<tr>
<th>114271</th>
<td>73408.0</td>
<td>-2.869795</td>
<td>1.335667</td>
<td>-1.009530</td>
<td>1.693885</td>
<td>-0.741480</td>
<td>-0.796773</td>
<td>-2.614242</td>
<td>1.066636</td>
<td>-1.135497</td>
<td>&#8230;</td>
<td>0.528421</td>
<td>0.228027</td>
<td>-0.749298</td>
<td>-0.067179</td>
<td>0.215792</td>
<td>-0.453651</td>
<td>0.349191</td>
<td>0.198862</td>
<td>16.48</td>
<td>1</td>
</tr>
<tr>
<th>167475</th>
<td>118709.0</td>
<td>-0.869547</td>
<td>0.536915</td>
<td>-0.991260</td>
<td>-0.452547</td>
<td>0.180363</td>
<td>0.817757</td>
<td>4.024583</td>
<td>-0.974965</td>
<td>-0.772483</td>
<td>&#8230;</td>
<td>0.143535</td>
<td>0.954046</td>
<td>-0.615188</td>
<td>0.153333</td>
<td>1.663535</td>
<td>0.054349</td>
<td>-0.037461</td>
<td>-0.471748</td>
<td>481.52</td>
<td>0</td>
</tr>
<tr>
<th>65613</th>
<td>51669.0</td>
<td>-1.257514</td>
<td>-5.571721</td>
<td>-1.511417</td>
<td>-0.021249</td>
<td>-2.800362</td>
<td>-0.537595</td>
<td>1.203404</td>
<td>-0.662114</td>
<td>-1.916241</td>
<td>&#8230;</td>
<td>0.659585</td>
<td>-0.881950</td>
<td>-1.351283</td>
<td>0.469166</td>
<td>0.133141</td>
<td>-0.216664</td>
<td>-0.259330</td>
<td>0.259628</td>
<td>1457.00</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>5 rows × 31 columns</p>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="k">print</span><span class="p">(</span><span class="s1">'Percentage of original dataset:'</span><span class="p">,</span> <span class="s2">"{0:.2f}%"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">undersampleTrain</span><span class="p">))</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">originalDataset</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>('Percentage of original dataset:', '0.35%')
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="k">print</span><span class="p">(</span><span class="s1">'1 = fraud | 0 = otherwise'</span><span class="p">)</span>
<span class="n">undersampleTrain</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 = fraud | 0 = otherwise
</pre>
</div>
</div>
<div class="output_area">
<div class="prompt output_prompt">Out[13]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>1    492
0    492
Name: Class, dtype: int64</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">undersampleTrain</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">'Amount'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">'Class'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[14]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x18c1c8d0&gt;</pre>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea "><img src="data:image/png;base64,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" /></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">quartile1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">perc1</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">perc0</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">quartile1</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">undersampleTrain</span><span class="p">[</span><span class="n">undersampleTrain</span><span class="o">.</span><span class="n">Class</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">Amount</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">perc1</span><span class="p">))</span>
    <span class="n">perc1</span> <span class="o">=</span> <span class="n">perc1</span> <span class="o">+</span> <span class="mf">0.25</span>
    
<span class="n">quartile0</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">quartile0</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">undersampleTrain</span><span class="p">[</span><span class="n">undersampleTrain</span><span class="o">.</span><span class="n">Class</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">Amount</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">perc0</span><span class="p">))</span>
    <span class="n">perc0</span> <span class="o">=</span> <span class="n">perc0</span> <span class="o">+</span> <span class="mf">0.25</span>

<span class="k">print</span><span class="p">(</span><span class="s1">'Min, Q1, Med, Q3'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'Fraud Percentiles:'</span><span class="p">,</span> <span class="n">quartile1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">'Other Percentiles:'</span><span class="p">,</span> <span class="n">quartile0</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Min, Q1, Med, Q3
('Fraud Percentiles:', [0.0, 1.0, 9.25, 105.89])
('Other Percentiles:', [0.0, 5.445, 21.465, 74.88499999999999])
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># Histogram of amount</span>
<span class="n">undersampleTrain</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="s1">'Amount'</span><span class="p">,</span> <span class="s1">'Class'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[16]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>array([&lt;matplotlib.axes._subplots.AxesSubplot object at 0x185F27F0&gt;,
       &lt;matplotlib.axes._subplots.AxesSubplot object at 0x0F27E2D0&gt;],
      dtype=object)</pre>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea "><img src="data:image/png;base64,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" /></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># Decision Dictionary</span>
<span class="n">decision</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">'Normal'</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s1">'Fraud'</span><span class="p">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="k">def</span> <span class="nf">plot_confusion_matrix</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">'Confusion matrix'</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">GnBu</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">'nearest'</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
    <span class="n">tick_marks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">tick_marks</span><span class="p">,</span> <span class="p">[</span><span class="s1">'Normal'</span><span class="p">,</span> <span class="s1">'Fraud'</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">tick_marks</span><span class="p">,[</span><span class="s1">'Normal'</span><span class="p">,</span> <span class="s1">'Fraud'</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'True label'</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'Predicted label'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># logistic regression</span>

<span class="n">Xm1</span> <span class="o">=</span> <span class="n">undersampleTrain</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">'Class'</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">Ym1</span><span class="o">=</span><span class="n">undersampleTrain</span><span class="o">.</span><span class="n">Class</span>

<span class="c1">#need to convert this to 1-d array to use with scikit-learn</span>
<span class="n">Ym1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">Ym1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">log_model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">m1</span> <span class="o">=</span> <span class="n">log_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">Xm1</span><span class="p">,</span><span class="n">Ym1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">Ym1_pred</span> <span class="o">=</span> <span class="n">log_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">Xm1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># Lets then evaluate the performance of the clustering versus the ground truth</span>

<span class="c1"># Compute confusion matrix</span>
<span class="n">cmm1</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Ym1</span><span class="p">,</span> <span class="n">Ym1_pred</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">cmm1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[[479  13]
 [ 52 440]]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plot_confusion_matrix</span><span class="p">(</span><span class="n">cmm1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea "><img src="data:image/png;base64,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" /></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># check accuracy</span>
<span class="k">print</span> <span class="s2">"accuracy is "</span><span class="p">,</span> <span class="n">log_model</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">Xm1</span><span class="p">,</span><span class="n">Ym1</span><span class="p">)</span> <span class="c1">#mult by 100% to get %accuracy</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>accuracy is  0.9339430894308943
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># check coefficients of predictors to see which predictors were strongest</span>

<span class="n">coeffm1_df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">Xm1</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">log_model</span><span class="o">.</span><span class="n">coef_</span><span class="p">)))</span>
<span class="k">print</span> <span class="s2">"coeff_df is "</span><span class="p">,</span> <span class="n">coeffm1_df</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>coeff_df is           0                          1
0     Time  [-2.0799016260778984e-05]
1       V1     [-0.05462207049060246]
2       V2      [0.08617800883252742]
3       V3     [-0.30283932478393844]
4       V4      [0.29604803965606746]
5       V5      [0.07210149072361526]
6       V6      [-0.1067523004684935]
7       V7      [-0.0707588934850167]
8       V8     [-0.08190651932891845]
9       V9     [-0.09167102825972784]
10     V10     [-0.17966840639016798]
11     V11      [0.11692270541842971]
12     V12     [-0.20015781959971865]
13     V13    [-0.059752640199032155]
14     V14     [-0.42423740765479817]
15     V15     [-0.02358162751524591]
16     V16     [-0.08516333520250448]
17     V17     [-0.06974545814188553]
18     V18     [0.029579345151363408]
19     V19   [-0.0019597797199370558]
20     V20   [-0.0032336111092781056]
21     V21     [0.020865074534829043]
22     V22     [0.020615379072761456]
23     V23     [-0.04632657833306866]
24     V24    [-0.010842268864157456]
25     V25    [-0.022441414921748472]
26     V26    [-0.018221247848275078]
27     V27     [0.008666458333521957]
28     V28     [0.008428218998149405]
29  Amount    [0.0008443743456014142]
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>/2018/04/02/credit-card-fraud-detection/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Merging data</title>
		<link>/2018/04/01/merging-data/</link>
		<comments>/2018/04/01/merging-data/#respond</comments>
		<pubDate>Mon, 02 Apr 2018 04:01:22 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Uncategorised]]></category>

		<guid isPermaLink="false">/?p=57</guid>
		<description><![CDATA[ Data manipulation is a required stage of data analysis. In some cases it might not be the most exciting job, but it is inevitable that you will need to improve your data manipulation skills. Much probably your data has different forms and variety, what demands a lot of hard work. It means, using some techniques [&#8230;]]]></description>
				<content:encoded><![CDATA[<div class="sidebar">
<div class="container sidebar-sticky"> <span style="font-size: 20px;">Data manipulation is a required stage of data analysis. In some </span>cases<span style="font-size: 20px;"> it might not be the most exciting job, but it is inevitable that you will need to improve your data manipulation skills. Much probably your data has different forms and variety, what demands a lot of hard work. It means, using some techniques that reshape data using the appropriate tool for every situation. It might help you to reduce unnecessary extra work, and let you </span>to<span style="font-size: 20px;"> dedicate more time </span>in<span style="font-size: 20px;"> what really matters: analysis.</span></div>
</div>
<div id="notebook" class="border-box-sizing" tabindex="-1">
<div id="notebook-container" class="container">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<p>I work with SAS(R) during some years and I consider the solution #1 for business analytics for many reasons, and one of them is just the robust capacity to manipulate like filter, group, merge, join, etc etc using SQL and/or Data Step.</p>
<p>I&#8217;m using an article published by <a href="http://www2.sas.com/proceedings/sugi30/249-30.pdf">SAS(R) MERGING vs. JOINING: Comparing the DATA Step with SQL</a> as a guide, without putting too much focus on SQL, at least for now.</p>
</div>
<p>Here some examples using Jupyter.</p>
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span></pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">ONE</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'ID'</span> <span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">'NAME'</span> <span class="p">:[</span><span class="s1">'JOE'</span><span class="p">,</span><span class="s1">'EMA'</span><span class="p">,</span><span class="s1">'ANN'</span><span class="p">,</span><span class="s1">'BOB'</span><span class="p">]})</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">TWO</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'ID'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="s1">'GENDER'</span> <span class="p">:[</span><span class="s1">'M'</span><span class="p">,</span><span class="s1">'F'</span><span class="p">,</span><span class="s1">'F'</span><span class="p">,</span><span class="s1">'F'</span><span class="p">],</span> <span class="s1">'AGE'</span> <span class="p">:[</span><span class="s1">'18'</span><span class="p">,</span><span class="s1">'21'</span><span class="p">,</span><span class="s1">'19'</span><span class="p">,</span><span class="s1">'24'</span><span class="p">]})</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># ONEs is a data set with all the information from file ONE along with any corresponding data from file TWO. </span>
<span class="n">ONEs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ONE</span><span class="p">,</span> <span class="n">TWO</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'ID'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'left'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">ONEs</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>ID</th>
<th>NAME</th>
<th>AGE</th>
<th>GENDER</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1</td>
<td>JOE</td>
<td>18</td>
<td>M</td>
</tr>
<tr>
<th>1</th>
<td>2</td>
<td>EMA</td>
<td>21</td>
<td>F</td>
</tr>
<tr>
<th>2</th>
<td>3</td>
<td>ANN</td>
<td>19</td>
<td>F</td>
</tr>
<tr>
<th>3</th>
<td>4</td>
<td>BOB</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1">#  TWOs data set contains all the data from file TWO with any corresponding data from file ONE.</span>
<span class="n">TWOs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ONE</span><span class="p">,</span> <span class="n">TWO</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'ID'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'right'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">TWOs</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[7]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>ID</th>
<th>NAME</th>
<th>AGE</th>
<th>GENDER</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1</td>
<td>JOE</td>
<td>18</td>
<td>M</td>
</tr>
<tr>
<th>1</th>
<td>2</td>
<td>EMA</td>
<td>21</td>
<td>F</td>
</tr>
<tr>
<th>2</th>
<td>3</td>
<td>ANN</td>
<td>19</td>
<td>F</td>
</tr>
<tr>
<th>3</th>
<td>5</td>
<td>NaN</td>
<td>24</td>
<td>F</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1">#  allRECS contains all information from ONE and TWO.</span>
<span class="n">allRECS</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ONE</span><span class="p">,</span> <span class="n">TWO</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'ID'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'outer'</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">allRECS</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[9]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>ID</th>
<th>NAME</th>
<th>AGE</th>
<th>GENDER</th>
<th>_merge</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1</td>
<td>JOE</td>
<td>18</td>
<td>M</td>
<td>both</td>
</tr>
<tr>
<th>1</th>
<td>2</td>
<td>EMA</td>
<td>21</td>
<td>F</td>
<td>both</td>
</tr>
<tr>
<th>2</th>
<td>3</td>
<td>ANN</td>
<td>19</td>
<td>F</td>
<td>both</td>
</tr>
<tr>
<th>3</th>
<td>4</td>
<td>BOB</td>
<td>NaN</td>
<td>NaN</td>
<td>left_only</td>
</tr>
<tr>
<th>4</th>
<td>5</td>
<td>NaN</td>
<td>24</td>
<td>F</td>
<td>right_only</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1">#  inBOTH contains only ID's which had records in both input files. </span>
<span class="n">inBOTH</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ONE</span><span class="p">,</span> <span class="n">TWO</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'ID'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">inBOTH</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[11]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>ID</th>
<th>NAME</th>
<th>AGE</th>
<th>GENDER</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>1</td>
<td>JOE</td>
<td>18</td>
<td>M</td>
</tr>
<tr>
<th>1</th>
<td>2</td>
<td>EMA</td>
<td>21</td>
<td>F</td>
</tr>
<tr>
<th>2</th>
<td>3</td>
<td>ANN</td>
<td>19</td>
<td>F</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># NOmatch1 is a file with data from file TWO that does not match the ID’s from data set ONE </span>
<span class="n">noMATCH1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ONE</span><span class="p">,</span> <span class="n">TWO</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'ID'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'outer'</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">noMATCH1</span> <span class="o">=</span> <span class="n">noMATCH1</span><span class="p">[</span><span class="n">noMATCH1</span><span class="p">[</span><span class="s1">'_merge'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'right_only'</span> <span class="p">]</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">noMATCH1</span> <span class="o">=</span> <span class="n">noMATCH1</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">'_merge'</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">noMATCH1</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>ID</th>
<th>NAME</th>
<th>AGE</th>
<th>GENDER</th>
</tr>
</thead>
<tbody>
<tr>
<th>4</th>
<td>5</td>
<td>NaN</td>
<td>24</td>
<td>F</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># # NOmatch1 is a file with data from file ONE that does not match the ID’s from data set TWO </span>
<span class="n">noMATCH2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ONE</span><span class="p">,</span> <span class="n">TWO</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">'ID'</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'outer'</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">noMATCH2</span> <span class="o">=</span> <span class="n">noMATCH2</span><span class="p">[</span><span class="n">noMATCH2</span><span class="p">[</span><span class="s1">'_merge'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'left_only'</span> <span class="p">]</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">noMATCH2</span> <span class="o">=</span> <span class="n">noMATCH2</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">'_merge'</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">noMATCH2</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[19]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>ID</th>
<th>NAME</th>
<th>AGE</th>
<th>GENDER</th>
</tr>
</thead>
<tbody>
<tr>
<th>3</th>
<td>4</td>
<td>BOB</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="n">noMATCH</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">noMATCH1</span><span class="p">,</span> <span class="n">noMATCH2</span><span class="p">])</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython2">
<pre><span class="c1"># NOmatch contains the records not found in inBOTH</span>
<span class="n">noMATCH</span>
</pre>
</div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[21]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table class="dataframe" border="1">
<thead>
<tr style="text-align: right;">
<th></th>
<th>ID</th>
<th>NAME</th>
<th>AGE</th>
<th>GENDER</th>
</tr>
</thead>
<tbody>
<tr>
<th>4</th>
<td>5</td>
<td>NaN</td>
<td>24</td>
<td>F</td>
</tr>
<tr>
<th>3</th>
<td>4</td>
<td>BOB</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>&nbsp;</p>
]]></content:encoded>
			<wfw:commentRss>/2018/04/01/merging-data/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Version Control</title>
		<link>/2018/03/31/version-control/</link>
		<comments>/2018/03/31/version-control/#respond</comments>
		<pubDate>Sun, 01 Apr 2018 01:22:50 +0000</pubDate>
		<dc:creator><![CDATA[admin]]></dc:creator>
				<category><![CDATA[Uncategorised]]></category>

		<guid isPermaLink="false">/?p=50</guid>
		<description><![CDATA[The best practice for coding recommends a version control to manage changes, no matter if you are working alone or in a team. It is a sign that you are professional and worry about data analysis in a business environment. Even if you are working alone, adding version control as a part of the development [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>The best practice for coding recommends a version control to manage changes, no matter if you are working alone or in a team. It is a sign that you are professional and worry about data analysis in a business environment. Even if you are working alone, adding version control as a part of the development can help you to avoid losing part or all your codes if your computer gets destroyed.<br />
Since I&#8217;m using Jupyter Notebook, there is no native solution to manage versions, but still possible to use an approach that works pretty well.</p>
<p><strong>How to control Jupyter Notebooks version?</strong><br />
Jupyter Notebooks are simple JSON documents, containing text, sources, code, rich media output, and metadata.<br />
You are free to choose, but it is recommended to put each segment of the script in different cells, so you can follow the logical flow, and also see the outputs for every step. The point is, you probably will not be interested in verifying changes for example in outputs, your goal is to track changes in the code part that generate the output.<br />
My intention is not to describe all detailed steps because of someone else already did the job. You can find an excellent guide: <a href="https://svds.com/jupyter-notebook-best-practices-for-data-science/" target="_blank" rel="noopener">Jupyter Notebook best practices for data analytics</a> published by Jonathan Whitmore.</p>
<p>There are 2 points that I want to highlight: 1) post-save hook and notebook naming convention.</p>
<p>1) Post-save hook is generating an automatic Python script and HTML format every time you save you Jupyter Notebook. So, as a result, you will have 3 different formats for the same script.<br />
Jonathan again kindly shared a piece of code that turn on this feature on Jupyter. You can find the script <a href="http://bit.ly/post-save-hook-snippet" target="_blank" rel="noopener">here</a>.<br />
It is necessary to insert this code into the jupyter_notebook_config.py file of your associated profile. <img class="wp-image-47 aligncenter" src="/wp-content/uploads/2018/03/jupyter_notebook_config-300x118.png" alt="" width="653" height="257" srcset="/wp-content/uploads/2018/03/jupyter_notebook_config-300x118.png 300w, /wp-content/uploads/2018/03/jupyter_notebook_config-768x302.png 768w, /wp-content/uploads/2018/03/jupyter_notebook_config.png 946w" sizes="(max-width: 653px) 100vw, 653px" /></p>
<p>Now, Jupyter saves automatically Notebooks, .py, and html formats.</p>
<p><img class="alignnone wp-image-48" src="/wp-content/uploads/2018/03/save-multiple-formats-300x78.png" alt="" width="681" height="177" srcset="/wp-content/uploads/2018/03/save-multiple-formats-300x78.png 300w, /wp-content/uploads/2018/03/save-multiple-formats-768x200.png 768w, /wp-content/uploads/2018/03/save-multiple-formats-1024x266.png 1024w, /wp-content/uploads/2018/03/save-multiple-formats.png 1147w" sizes="(max-width: 681px) 100vw, 681px" /></p>
]]></content:encoded>
			<wfw:commentRss>/2018/03/31/version-control/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
